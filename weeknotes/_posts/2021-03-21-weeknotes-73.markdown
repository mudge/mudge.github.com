---
title: Weeknotes 73
excerpt: Rabbits, livecheck, how to stop clobbering files, relative font sizing, seemingly innocuous bugs and a single AirPod.
date: 2021-03-21 11:11:00
updated: 2021-03-22 08:33:00
---
*   For the past few weeks, we have woken to see rabbits in the garden. Sometimes a solitary one, sometimes a pair and, once, three happily munching on the lawn. Given C's familiarity with [Peter Rabbit](https://www.bbc.co.uk/cbeebies/shows/peter-rabbit), we'll lift him to the window and watch as he whispers "babu".

*   I upgraded my standing desk from two piles of books about magic tricks and movie tie-ins to a [mechanical standing desk converter](https://vivo-us.com/collections/stand-up-desk-risers/products/desk-v000v).

*   I [occasionally contribute Homebrew Casks](https://github.com/Homebrew/homebrew-cask/commits?author=mudge) and have been adding [`livecheck` stanzas](https://github.com/Homebrew/homebrew-cask/blob/master/doc/cask_language_reference/stanzas/livecheck.md). This allows you to see when there are newer versions of formulae and casks upstream, e.g.

    ```console
    $ brew livecheck --installed --newer-only
    ```

*   [Thom](https://github.com/thommay) told me about [Nicola Lamb's recipe development and kitchen journal, Kitchen Projects](https://kitchenprojects.substack.com/?no_cover=true). I haven't yet attempted any recipes but top of my list are [XXL Cheese Scones](https://kitchenprojects.substack.com/p/kitchen-project-16-xxl-cheese-scones) and [Pasteis de Nata](https://kitchenprojects.substack.com/p/kitchen-projects-003-nata).

*   When importing database dumps into a local server for development, I typically run something like the following where `agiantdumpfile.sql` might be hundreds of megabytes in size:

    ```console
    $ mysql -u root -p somedatabase < agiantdumpfile.sql
    ```

    All too often, I accidentally get the file redirection the wrong way around, e.g.

    ```console
    $ mysql -u root -p somedatabase > agiantdumpfile.sql
    ```

    Which instantly obliterates `agiantdumpfile.sql`, replacing it with an empty file.

    I discovered [zsh's `noclobber` option](http://zsh.sourceforge.net/Intro/intro_16.html) which prevents this from happening:

    ```console
    $ setopt noclobber
    $ echo 'foo' > bar
    $ echo 'baz' > bar
    zsh: file exists: bar
    ```

    There's a [great discussion on the Unix & Linux Stack Exchange about why `noclobber` isn't the default setting](https://unix.stackexchange.com/questions/452865/are-there-any-disadvantages-of-setting-noclobber).

*   I had to fix a client's website that didn't respect [Chrome's font size setting](https://support.google.com/chrome/answer/96810?co=GENIE.Platform%3DDesktop&hl=en#fontsize). While the Zoom function worked, increasing or decreasing the default font size did nothing to the text across the site.

    Looking in the CSS, I discovered over 100 [`font-size`](http://developer.mozilla.org/en-US/docs/Web/CSS/font-size)s set in absolute pixels, overriding the browser settings.

    To fix this without changing the appearance of the site for users who haven't adjusted their settings, I converted all font sizes to be relative to the common browser default of `16px` by first setting the base font size as a percentage:

    ```css
    html {
      font-size: 68.75%; /* 11/16 = 0.6875 */
    }
    ```

    I then expressed all other font sizes in [`rem`](http://developer.mozilla.org/en-US/docs/Web/CSS/length#rem)s relative to that base `11px`:

    ```css
    p {
      /* font-size: 14px; */
      font-size: 1.27rem; /* 14/11 = 1.272727273 */
    }

    h1 {
      /* font-size: 20px; */
      font-size: 1.82rem; /* 20/11 = 1.818181818 */
    }
    ```

*   I've also been working on a static site generated by [Gatsby](https://www.gatsbyjs.com) and ran into strange jumbled up components (such as you might expect when you don't set an appropriate [`key`](https://reactjs.org/docs/lists-and-keys.html)) when using [client-side functionality with React](https://www.gatsbyjs.com/docs/adding-app-and-website-functionality/).

    [Josh Comeau sums up the issue and a workaround perfectly](https://www.joshwcomeau.com/react/the-perils-of-rehydration/) when it comes to [hydrating server-side React](https://www.gatsbyjs.com/docs/conceptual/react-hydration/).

*   I thoroughly enjoyed [Teddy Katz' "Bypassing GitHub's OAuth flow"](https://blog.teddykatz.com/2019/11/05/github-oauth-bypass.html) and ["Stealing arbitrary GitHub Actions secrets"](https://blog.teddykatz.com/2021/03/17/github-actions-write-access.html) as an insight into how serious security flaws are discovered via seemingly innocuous bugs.

    Thankfully, [Brakeman checks for "HTTP Verb Confusion"](https://github.com/presidentbeef/brakeman/issues/1432).

*   Listening to [Adam Buxton interview fellow UEA alumnus Kazuo Ishiguro](https://www.adam-buxton.co.uk/podcasts/7-bfk9m-4l8kp-blcga-jwabs-blbb8-b9mjx-fj3gr-j4lyp-9jlhe-a4bhm-c67yy-szhgm-m8pcd-l376z-zjb32-wh9dr-za87b-c8l3j-byyhb-segba-hlsc6-5m648-aef2d-2n3wg-tpcha-fsb4a-stlxm-7hb5z-ekrdd-6hdmt-e2zpx), discussing science fiction, AI and the selfishness of apology was utterly fascinating.

*   My sister just handed me a single [AirPod](https://www.apple.com/uk/airpods/) and said "I just found this in the washing machine."
